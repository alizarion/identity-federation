app1: 
  image: alizarion/openidc-php-demo
  ports:
   - "81:80"
app2: 
  image: alizarion/openidc-java-demo
  ports:
   - "82:8080"
keycloak-db: 
  image: alizarion/keycloak-mysql-db
keycloak-app: 
  image: jboss/keycloak-mysql
  environment:
   - MYSQL_PORT_3306_TCP_PORT=3306
   - MYSQL_DATABASE=keycloak
   - MYSQL_PORT_3306_TCP_ADDR=keycloak-db
   - MYSQL_USER=keycloak
   - MYSQL_PASSWORD=keycloak
   - MYSQL_ROOT_PASSWORD=keycloak
  links:
    - keycloak-db
openidc-proxy:
  image: alizarion/openidc-proxy
  environment:
  - OIDCProviderMetadataURL=${OIDCProviderMetadataURL}/.well-known/openid-configuration
  - OIDCClientID=${OIDCClientID}
  - OIDCClientSecret=${OIDCClientSecret}
  - OIDCRedirectURI=http://localhost/app1/redirect_uri
  - http_proxy=${http_proxy}
  - https_proxy=${https_proxy}
  - no_proxy=${no_proxy}
  ports:
   - "80:80"
  links:
   - app1
   - app2

   
